(this.webpackJsonpsociallydistanced=this.webpackJsonpsociallydistanced||[]).push([[0],[,,,,function(e,t,s){},,,,function(e,t,s){},,,function(e,t,s){},function(e,t,s){},,,,,,function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var n=s(2),a=s.n(n),i=s(13),c=s.n(i),r=(s(18),s(4),s(5)),o=s(1),l=s(3),u=(s(11),s(0)),d=function(e){var t=e.inputType,s=e.onChanges,n=e.value;return Object(u.jsxs)("div",{className:"inputBlock",children:[Object(u.jsx)("label",{className:"inputLabel",htmlFor:t,children:t}),Object(u.jsx)("input",{className:"inputField",type:t,name:t,id:t,value:n,onChange:s})]})},m=function(e){var t=e.user,s=e.route,n=e.errorMessage,a=e.setRoute,i=e.setUser,c=e.setErrorMessage,r=e.setIsSignedIn,l=e.onRouteChange,m=e.setCurrentMessage,j=(e.pastMessages,e.setPrivateMessages),b=(e.setCurrentPublicMessage,e.setPrivatePublicMessage,e.setConversation),h=e.setPastMessages,g=e.setPastPublicMessages,A=(e.setFilteredMessages,e.filteredMessages,e.loadData),p=t.username,f=t.email,O=t.password,x=function(e){switch(e.target.id){case"Name":i((function(t){return Object(o.a)(Object(o.a)({},t),{},{username:e.target.value})}));break;case"Email":i((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value.toUpperCase()})}));break;case"Password":i((function(t){return Object(o.a)(Object(o.a)({},t),{},{password:e.target.value})}));break;default:console.log(e.target.value)}};return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("article",{className:"formWindow",children:Object(u.jsxs)("div",{className:"formcontainer",children:["Register"===s?Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{className:"legend",children:"Register"}),Object(u.jsx)(d,{inputType:"Name",value:p,onChanges:x}),Object(u.jsx)(d,{inputType:"Email",value:f,onChanges:x}),Object(u.jsx)(d,{inputType:"Password",value:O,onChanges:x})]}):Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{className:"legend",children:"Sign In"}),Object(u.jsx)(d,{inputType:"Email",value:f,onChanges:x}),Object(u.jsx)(d,{inputType:"Password",value:O,onChanges:x})]}),Object(u.jsx)("div",{className:"legend",children:Object(u.jsx)("button",{type:"submit",className:"button",onClick:function(){"Sign In"===s?(fetch("https://socially-distanced-server.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email.toUpperCase(),password:t.password})}).then((function(e){return e.json()})).then((function(e){e.email===t.email?(i((function(t){return Object(o.a)(Object(o.a)({},t),{},{username:e.name,friends:e.friends,requests:e.requests,pendingrequests:e.pendingrequests})})),a("home"),r(!0),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{username:e.name,email:e.email})})),b({me:t.email,you:""})):(c("Invalid Login Information"),i({username:"",email:"",password:"",friends:["BRIAN@GMAIL.COM"],requests:[],pendingrequests:[]}))})).catch((function(e){return console.log(e)})),A("friendmessageload",JSON.stringify({email:t.email.toUpperCase(),friends:t.friends}),h),A("publicmessageload",JSON.stringify({email:t.email,friends:t.friends}),g),A("privatemessageload",JSON.stringify({email:t.email,friends:t.friends}),j)):/\S+@\S+\.\S+/.test(f)&&O.length>=8?(fetch("https://socially-distanced-server.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:t.email.toUpperCase(),password:t.password,friends:t.friends})}).then((function(e){return e.json()})).then((function(e){a("home"),r(!0),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{username:e.name,email:e.email})}))})).catch((function(e){return console.log(e)})),A("publicmessageload",JSON.stringify({email:t.email,friends:t.friends}),g)):O.length<8?c("Password must be 8 characters long"):c("Enter a valid email address")},children:"Submit"})}),Object(u.jsx)("div",{className:"legend",children:"Sign In"===s?Object(u.jsx)("p",{onClick:function(){return l("Register")},className:"loginLink",children:"Register"}):Object(u.jsx)("p",{onClick:function(){return l("Sign In")},className:"loginLink",children:"Sign In"})})]})})}),Object(u.jsx)("div",{children:n})]})},j=(s(20),s.p+"static/media/home.2ea0f12c.png"),b=s(6),h=(s(8),function(e){var t=e.friend,s=e.converse,n=(e.route,e.unFriend),a=e.pendOrReq;return Object(u.jsx)("div",{className:"radioButton",children:Object(u.jsxs)("li",{children:[Object(u.jsx)("input",{type:"radio",name:"friend",id:t,onClick:function(){return s(t)}}),Object(u.jsx)("label",{htmlFor:t,children:t}),Object(u.jsx)("button",{onClick:function(){return n(t,a)},children:"X"})]})})}),g=function(e){var t=e.friend,s=e.rejectFriend,n=e.acceptFriend;return Object(u.jsx)("div",{className:"radioButton",children:Object(u.jsxs)("li",{children:[Object(u.jsx)("input",{type:"radio",name:"friend",id:t}),Object(u.jsx)("label",{htmlFor:t,children:t}),Object(u.jsx)("button",{className:"friendButton",onClick:function(){return n(t)},children:"Accept"}),Object(u.jsx)("button",{className:"friendButton",onClick:function(){return s(t)},children:"X"})]})})},A=function(e){var t=e.friend,s=e.rejectFriend;return Object(u.jsx)("div",{className:"radioButton",children:Object(u.jsxs)("li",{children:[Object(u.jsx)("input",{type:"radio",name:"friend",id:t}),Object(u.jsx)("label",{htmlFor:t,children:t}),Object(u.jsx)("button",{className:"friendButton",onClick:function(){return s(t)},children:"X"})]})})},p=s.p+"static/media/friend.f4b364da.png",f=function(e){var t=e.user,s=e.setUser,a=e.setPrivateMessage,i=e.route,c=e.setRoute,r=e.setConversation,d=e.addFriend,m=e.display,j=Object(n.useState)(m),f=Object(l.a)(j,2),O=f[0],x=f[1],v=Object(n.useState)(Object(b.a)(new Set(t.requests))),N=Object(l.a)(v,2),C=N[0],y=N[1],M=Object(n.useState)(Object(b.a)(new Set(t.pendingrequests))),k=Object(l.a)(M,2),B=k[0],E=k[1];Object(n.useEffect)((function(){y(Object(b.a)(new Set(t.requests))),E(Object(b.a)(new Set(t.pendingrequests)))}),[t]);var S=function(e){w(),r((function(t){return Object(o.a)(Object(o.a)({},t),{},{you:e})})),a((function(t){return Object(o.a)(Object(o.a)({},t),{},{recipientEmail:e})})),c("mail")},w=function(){x(!O)},P=function(e){fetch("https://socially-distanced-server.herokuapp.com/unfriend",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,friend:e.toUpperCase()})}).then((function(e){return e.json()})).then((function(e){e&&s(e[0])})).catch((function(e){return console.log(e)}))},F=function(e){fetch("https://socially-distanced-server.herokuapp.com/acceptfriend",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,friend:e})}).then((function(e){return e.json()})).then((function(e){s(e[0])})).catch((function(e){return console.log(e)})),alert("Added ".concat(e," to your friends list"))},T=function(e,n){"Request"===n?fetch("https://socially-distanced-server.herokuapp.com/reject",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,friend:e,option:"request"})}).then((function(e){return e.json()})).then((function(e){e&&s(e[0])})).catch((function(e){return console.log(e)})):fetch("https://socially-distanced-server.herokuapp.com/reject",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,friend:t.email,option:"pending"})}).then((function(e){return e.json()})).then((function(e){e&&s(e[0])})).catch((function(e){return console.log(e)}))},Q=t.friends;return Object(u.jsx)("div",{className:"fixed",children:O?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"",children:Object(u.jsx)("button",{className:"showFriend",onClick:w,children:Object(u.jsx)("img",{className:"friendimg",src:p,alt:"Friends",width:"35rem;"})})}),Object(u.jsxs)("div",{className:"friendList",children:[Object(u.jsxs)("div",{className:"mainfriend",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"friendtitlebox",children:Object(u.jsx)("p",{className:"friendtitle",children:"home"===i?"Friends List":"Contacts"})}),Q?Object(u.jsx)("div",{className:"scroll",children:Object(u.jsx)("ul",{children:Q.map((function(e){return Object(u.jsx)(h,{converse:S,friend:e,unFriend:P})}))})}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("button",{className:"addFriend",onClick:function(){return d("No Names")},children:"Add Friend"})]}),C&&C[0]?Object(u.jsxs)("div",{className:"scroll",children:[Object(u.jsx)("div",{className:"friendtitlebox",children:Object(u.jsx)("p",{className:"requesttitle",children:"Request"})}),Object(u.jsx)("ul",{children:C.map((function(e){return Object(u.jsx)(g,{friend:e,rejectFriend:T,pendOrReq:"Request",acceptFriend:F})}))})]}):Object(u.jsx)(u.Fragment,{}),B&&B[0]?Object(u.jsxs)("div",{className:"scroll",children:[Object(u.jsx)("div",{className:"friendtitlebox",children:Object(u.jsx)("p",{className:"pendingtitle",children:"Pending Request"})}),Object(u.jsx)("ul",{children:B.map((function(e){return Object(u.jsx)(A,{friend:e,rejectFriend:T,pendOrReq:"Pending"})}))})]}):Object(u.jsx)(u.Fragment,{})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"hideFriend",onClick:w,children:"x"})})]})]}):Object(u.jsx)("div",{className:"",children:Object(u.jsx)("button",{className:"showFriend",onClick:w,children:Object(u.jsx)("img",{className:"friendimg",src:p,alt:"Friends",width:"35rem;"})})})})},O=function(e){var t,s=e.onRouteChange,n=e.isSignedIn,a=e.route,i=e.user,c=e.setUser,r=e.setRoute,o=e.setPrivateMessage,l=e.setConversation,d=e.conversation,m=e.addFriend;return n?Object(u.jsxs)("div",{className:"navroot",children:["home"===a?Object(u.jsxs)("div",{className:"navLeft",children:[Object(u.jsx)("p",{className:"navhomemail",onClick:function(){return s("mail")},children:Object(u.jsx)("img",{className:"homemail",src:"data:image/png;base64,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",alt:"Mail",width:"30rem"})}),Object(u.jsx)(f,{user:i,setUser:c,route:a,setRoute:r,setPrivateMessage:o,setConversation:l,addFriend:m})]}):Object(u.jsxs)("div",{className:"navLeft",children:[Object(u.jsx)("p",{className:"navhomemail",onClick:function(){return s("home")},children:Object(u.jsx)("img",{className:"homemail",src:j,alt:"Home",width:"30rem"})}),t=!d.you,Object(u.jsx)(f,{user:i,setUser:c,route:a,setRoute:r,setPrivateMessage:o,setConversation:l,addFriend:m,display:t})]}),Object(u.jsx)("div",{className:"headcontainer",children:Object(u.jsx)("h1",{className:"title",children:"home"===a?"Message Board":d.you})}),Object(u.jsx)("nav",{className:"nav",children:Object(u.jsx)("p",{onClick:function(){return s("Sign In")},className:"navElement",children:"Sign Out"})})]}):Object(u.jsx)("div",{className:"navroot",children:Object(u.jsx)("div",{className:"headcontainer",children:Object(u.jsx)("h1",{className:"title",children:"SOCIALLY DISTANCED"})})})},x=(s(12),s(21),function(e){return Object(u.jsx)("div",{children:Object(u.jsx)("img",{className:"picture",alt:"picture",src:e.source})})}),v=s.p+"static/media/like.1fe2cbbc.png",N=s.p+"static/media/liked.82a0b8ca.png",C=function(e){var t=e.route,s=e.text,n=e.username,a=e.time,i=e.i,c=e.deletePost,r=e.deleteMail,o=e.addLike,l=e.currentUser,d=e.currentId,m=e.filteredMessages,j=e.background,b=e.publicStatus,h=(e.pastPublicMessages,e.addFriend),g=e.likes;return Object(u.jsx)("div",{className:"box",children:Object(u.jsxs)("div",{className:"smallbox",children:[Object(u.jsx)("div",{className:"messageArea "+j,children:Object(u.jsx)("div",{className:"text",children:Object(u.jsx)("div",{className:"textmessage",children:s.includes("#img#")?Object(u.jsx)(x,{source:s.substr(5,s.length-1)}):s})})}),Object(u.jsxs)("div",{className:"user "+j,children:[Object(u.jsx)("p",{onClick:function(){return h(n)},children:n.toUpperCase().substr(0,n.indexOf("@"))}),Object(u.jsx)("p",{className:"date",children:a.substr(0,16)})]}),Object(u.jsxs)("div",{className:"likes ",children:["home"===t?Object(u.jsx)("button",{className:"likeButton",onClick:function(){return o(i,d)},children:g&&JSON.stringify(g).includes(l)?Object(u.jsx)("img",{src:N,alt:"Unlike",width:"20rem"}):Object(u.jsx)("img",{src:v,alt:"like",width:"20rem"})}):Object(u.jsx)(u.Fragment,{}),Object(u.jsxs)("div",{className:"likedelete",children:["home"===t&&g?Object(u.jsx)("div",{className:"liketext",children:g.length>=4?"".concat(g.length," Likes"):g.length>1?g.length>2?JSON.parse(g[0]).name+", "+JSON.parse(g[1]).name+", and "+JSON.parse(g[2]).name+" like this post":JSON.parse(g[0]).name+" and "+JSON.parse(g[1]).name+" like this post":g.length?JSON.parse(g).name+" likes this post":""}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("div",{className:"deleteContainer",children:"home"===t?Object(u.jsx)("div",{children:m[i].email===l?Object(u.jsx)("div",{className:"deleteBackground",children:Object(u.jsx)("button",{className:"deleteButton",id:i,onClick:function(){return c(i,b,d)},children:"x"})}):Object(u.jsx)(u.Fragment,{})}):Object(u.jsx)("div",{className:"deleteBackground",children:Object(u.jsx)("button",{className:"deleteButton",id:i,onClick:function(){return r(d)},children:"X"})})})]})]})]})})},y=function(e){var t=e.user,s=e.currentMessage,a=e.pastMessages,i=e.setPastMessages,c=e.setCurrentMessage,r=e.currentPublicMessage,d=e.pastPublicMessages,m=e.setPastPublicMessages,j=e.setCurrentPublicMessage,h=e.deletePost,g=e.route,A=e.addFriend,p=(e.conversation,e.setFilteredMessages),f=e.filteredMessages,O=Object(n.useState)(!0),x=Object(l.a)(O,2),v=x[0],N=x[1],y=Object(n.useState)({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide",position:" middle"}),M=Object(l.a)(y,2),k=M[0],B=M[1],E="",S="";Object(n.useEffect)((function(){s.time;""!==s.message&&(fetch("https://socially-distanced-server.herokuapp.com/friendmessage",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:t.email.toUpperCase(),message:s.message,time:"currentTime",likes:[]})}).then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return console.log(e)})),c((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:""})})))}),[s.time]),Object(n.useEffect)((function(){var e=r.time;""!==r.message&&(fetch("https://socially-distanced-server.herokuapp.com/publicmessage",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:t.email.toUpperCase(),message:r.message,time:e,likes:[]})}).then((function(e){return e.json()})).then((function(e){m(e)})).catch((function(e){return console.log(e)})),j((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:""})})))}),[r.time]),Object(n.useEffect)((function(){t.friends&&p((function(){return a.filter((function(e){return e.email===t.email||t.friends.includes(e.email)}))}))}),[t.friends,a]);var w=function(e){!e||""===r.message&&""===s.message||(v?j((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:"#img#"+r.message})})):c((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:"#img#"+s.message})}))),v?j((function(e){return Object(o.a)(Object(o.a)({},e),{},{time:Date().toLocaleString()})})):c((function(e){return Object(o.a)(Object(o.a)({},e),{},{time:Date().toLocaleString()})})),B({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide",position:" middle"})},P=function(e){v?j((function(t){return Object(o.a)(Object(o.a)({},t),{},{message:e.target.value})})):c((function(t){return Object(o.a)(Object(o.a)({},t),{},{message:e.target.value})}))},F=function(e){return JSON.parse(e).email!==t.email},T=function(e,s){var n=!0;if(v){var a=Object(b.a)(d);a[e].likes&&(n=a[e].likes.every(F)),a[e].likes,n?fetch("https://socially-distanced-server.herokuapp.com/likes",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:t.email,id:s,database:"publicmessages"})}).then((function(e){return e.json()})).then((function(e){m(e)})).catch((function(e){return console.log(e)})):fetch("https://socially-distanced-server.herokuapp.com/dislike",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:t.email,id:s,database:"publicmessages"})}).then((function(e){return e.json()})).then((function(e){m(e)})).catch((function(e){return console.log(e)}))}else if(!v){var c=Object(b.a)(f);c[e].likes&&(n=c[e].likes.every(F)),!c[e].likes||n?fetch("https://socially-distanced-server.herokuapp.com/likes",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:t.email,id:s,database:"friendmessage"})}).then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return console.log(e)})):fetch("https://socially-distanced-server.herokuapp.com/dislike",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:t.email,id:s,database:"friendmessage"})}).then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return console.log(e)}))}},Q=function(){N(!v)},I=function(e){B(e?{picture:"",message:"textareahide",button:"textareahide",submit:"",position:" right"}:{picture:"textareahide",message:"",button:"textareahide",submit:"",position:" right"})},q=function(){B({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide",position:" middle"}),v?j((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:""})})):c((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:""})}))};return Object(u.jsx)("div",{className:"maincomment",children:v?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"inputbox",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{id:"pic",className:"textareapic public "+k.picture,cols:"40",rows:"6",onChange:P,placeholder:"Enter Picture URL",value:r.message,autoFocus:!0}),Object(u.jsx)("textarea",{id:"msg",className:"textarea public "+k.message,onChange:P,value:r.message,autoFocus:!0})]})}),Object(u.jsxs)("div",{className:"publicButton",children:[Object(u.jsx)("button",{className:"disabledButtons",children:"Public"}),Object(u.jsx)("button",{className:"publicButtons",onClick:Q,children:"Friends"})]}),Object(u.jsxs)("div",{className:"commentsection",children:[Object(u.jsxs)("div",{className:"inputbox",children:[Object(u.jsx)("label",{className:"msg "+k.submit,onClick:function(){return w(""===k.picture)},children:"Submit"}),Object(u.jsx)("label",{className:"msg "+k.submit,onClick:q,children:"Back"}),Object(u.jsx)("label",{htmlFor:"msg",className:"msg "+k.button,onClick:function(){return I(!1)},children:"Message"}),Object(u.jsx)("label",{htmlFor:"pic",className:"msg "+k.button,onClick:function(){return I(!0)},children:"Picture"})]}),Object(u.jsx)("div",{className:"bigbox",children:d.map((function(e,s){var n=d.length-1-s,a=d[n].id;return Object(u.jsx)("div",{children:Object(u.jsx)(C,{filteredMessages:d,currentUser:t.email,username:d[n].email,text:d[n].message,time:d[n].time,i:n,currentId:a,deletePost:h,route:g,addLike:T,likes:d[n].likes,publicStatus:v,addFriend:A})},s)}))})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"inputbox",children:[Object(u.jsx)("input",{id:"friendpic",className:"textareapic friend "+k.picture,onChange:P,placeholder:"Enter Picture URL",value:s.message}),Object(u.jsx)("textarea",{id:"friendmsg",className:"textarea friend "+k.message,onChange:P,value:s.message})]}),Object(u.jsxs)("div",{className:"publicButton",children:[Object(u.jsx)("button",{className:"publicButtons",onClick:Q,children:"Public"}),Object(u.jsx)("button",{className:"disabledButtons",children:"Friends"})]}),Object(u.jsxs)("div",{className:"commentsection",children:[Object(u.jsxs)("div",{className:"inputbox",children:[Object(u.jsx)("label",{htmlFor:"friendmsg",className:"msg "+k.button,onClick:function(){return I(!1)},children:"Message"}),Object(u.jsx)("label",{htmlFor:"friendpic",className:"msg "+k.button,onClick:function(){return I(!0)},children:"Picture"}),Object(u.jsx)("label",{className:"msg "+k.submit,onClick:function(){return w(""===k.picture)},children:"Submit"}),Object(u.jsx)("label",{className:"msg "+k.submit,onClick:q,children:"Back"})]}),Object(u.jsx)("div",{className:"bigbox",children:f.map((function(e,s){var n=f.length-1-s,a=f[n].id;return E=f[n].email.toUpperCase()===t.email.toUpperCase()?"sender":"recipient",S=f[n].email.toUpperCase()===t.email.toUpperCase()?"senderbackground":"",Object(u.jsx)("div",{className:E,children:Object(u.jsx)(C,{filteredMessages:f,currentUser:t.email,username:f[n].email,text:f[n].message,time:f[n].time,i:n,currentId:a,deletePost:h,route:g,addLike:T,likes:f[n].likes,publicStatus:v,addFriend:A,background:S})},s)}))})]})]})})},M=(s(22),function(e){var t=e.privateMessage,s=e.setPrivateMessage,a=e.privateMessages,i=e.setPrivateMessages,c=e.user,r=(e.deletePost,e.conversation),d=Object(n.useState)({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide"}),m=Object(l.a)(d,2),j=m[0],b=m[1],h="",g="";Object(n.useEffect)((function(){""!==t.message&&fetch("https://socially-distanced-server.herokuapp.com/privatemessage",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c.username,senderemail:c.email,recipientemail:r.you,message:t.message,time:"currentTime"})}).then((function(e){return e.json()})).then((function(e){console.log("FROM DB",e),i(e)})).catch((function(e){return console.log(e)})),s((function(e){return Object(o.a)(Object(o.a)({},e),{},{username:"",message:"",time:""})}))}),[t.time]);var A=function(e){s((function(t){return Object(o.a)(Object(o.a)({},t),{},{message:e.target.value})}))},p=function(e){fetch("https://socially-distanced-server.herokuapp.com/deletemail",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,database:"privatemessage"})}).then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return console.log(e)}))},f=function(e){b(e?{picture:"",message:"textareahide",button:"textareahide",submit:""}:{picture:"textareahide",message:"",button:"textareahide",submit:""})};return Object(u.jsxs)("div",{className:"mailbox",children:[r.you?Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{id:"picture",className:"mailtextarea "+j.picture,cols:"40",rows:"6",onChange:A,placeholder:"Enter Picture URL",value:t.message}),Object(u.jsx)("textarea",{id:"mail",className:"mailtextarea "+j.message,cols:"40",rows:"6",onChange:A,value:t.message}),Object(u.jsx)("label",{htmlFor:"mail",className:"buttons "+j.button,onClick:function(){return f(!1)},children:"Message"}),Object(u.jsx)("label",{htmlFor:"picture",className:"buttons "+j.button,onClick:function(){return f(!0)},children:"Picture"}),Object(u.jsx)("label",{className:"buttons "+j.submit,onClick:function(){return""===j.picture&&""!==t.message&&s((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:"#img#"+t.message})})),s((function(e){return Object(o.a)(Object(o.a)({},e),{},{time:Date().toLocaleString()})})),void b({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide"})},children:"Submit"}),Object(u.jsx)("label",{className:"buttons "+j.submit,onClick:function(){b({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide"}),s((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:""})}))},children:"Back"})]}):Object(u.jsx)("div",{className:"nocontactContainer",children:Object(u.jsx)("div",{children:Object(u.jsx)("h1",{className:"nocontact",children:"PLEASE SELECT SOMEONE TO MESSAGE"})})}),Object(u.jsx)("div",{className:"messages",children:a.map((function(e,s){var n=a.length-1-s,i=a[n].id;if(a[n].recipientemail.toUpperCase()===r.you&&a[n].senderemail.toUpperCase()===c.email||a[n].senderemail.toUpperCase()===r.you&&a[n].recipientemail.toUpperCase()===c.email)return h=a[n].senderemail.toUpperCase()===c.email.toUpperCase()?"sender":"recipient",g=a[n].senderemail.toUpperCase()===c.email.toUpperCase()?"senderbackground":"",Object(u.jsxs)("div",{className:h,children:[console.log(t),Object(u.jsx)(C,{username:a[n].senderemail,text:a[n].message,time:a[n].time,i:s,deleteMail:p,currentId:i,background:g})]})}))})]})});s(23);var k=function(){var e,t=Object(n.useState)({username:"",email:"",password:"",friends:["BRIAN@GMAIL.COM"],request:[],pendingrequests:[]}),s=Object(l.a)(t,2),a=s[0],i=s[1],c=Object(n.useState)("Sign In"),d=Object(l.a)(c,2),j=d[0],b=d[1],h=Object(n.useState)(!1),g=Object(l.a)(h,2),A=g[0],p=g[1],f=Object(n.useState)(""),x=Object(l.a)(f,2),v=x[0],N=x[1],C=Object(n.useState)([]),k=Object(l.a)(C,2),B=k[0],E=k[1],S=Object(n.useState)({id:"",username:"",email:"",message:"",time:"",likes:[]}),w=Object(l.a)(S,2),P=w[0],F=w[1],T=Object(n.useState)([]),Q=Object(l.a)(T,2),I=Q[0],q=Q[1],U=Object(n.useState)({id:"",username:"",email:"",message:"",time:"",likes:[]}),R=Object(l.a)(U,2),D=R[0],J=R[1],L=Object(n.useState)([]),X=Object(l.a)(L,2),Y=X[0],G=X[1],H=Object(n.useState)({id:"",username:"",senderemail:"",recipientemail:"",message:"",time:""}),V=Object(l.a)(H,2),Z=V[0],K=V[1],W=Object(n.useState)({me:"",you:""}),z=Object(l.a)(W,2),$=z[0],_=z[1],ee=Object(n.useState)({}),te=Object(l.a)(ee,2),se=te[0],ne=te[1];Object(n.useEffect)((function(){a.friends&&ne((function(){return B.filter((function(e){return e.email===a.email||a.friends.includes(e.email)}))}))}),[]);var ae=function(e){"home"===e||"mail"===e?p(!0):(b("Sign In"),p(!1),i({username:"",email:"",password:"",friends:["BRIAN@GMAIL.COM"],requests:[],pendingrequests:[]}),F({id:"",username:"",email:"",message:"",time:"",likes:[]}),K({id:"",username:"",senderemail:"",recipientemail:"",message:"",time:""}),_({me:"",you:""})),b(e)},ie=function(e,t,s){fetch("https://socially-distanced-server.herokuapp.com/".concat(e),{method:"post",headers:{"Content-Type":"application/json"},body:t}).then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(e){return console.log(e)}))},ce=function(e,t,s){t?fetch("https://socially-distanced-server.herokuapp.com/deletemessage",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,database:"publicmessages"})}).then((function(e){return e.json()})).then((function(e){q(e)})).catch((function(e){return console.log(e)})):fetch("https://socially-distanced-server.herokuapp.com/deletemessage",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,database:"friendmessage"})}).then((function(e){return e.json()})).then((function(e){E(e)})).catch((function(e){return console.log(e)}))},re=function(e){"No Names"===e&&(e=prompt("Enter the email address of your friend ")),e&&(a.friends&&a.friends.includes(e)||fetch("https://socially-distanced-server.herokuapp.com/friendrequest",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.email,newFriend:e.toUpperCase()})}).then((function(e){return e.json()})).then((function(e){e&&i((function(t){return Object(o.a)(Object(o.a)({},t),{},{pendingrequests:e.pendingrequests})}))})).catch((function(e){return console.log(e)})))};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(O,(e={onRouteChange:ae,isSignedIn:A,route:j,user:a,setUser:i},Object(r.a)(e,"route",j),Object(r.a)(e,"setRoute",b),Object(r.a)(e,"setPrivateMessage",K),Object(r.a)(e,"setConversation",_),Object(r.a)(e,"conversation",$),Object(r.a)(e,"addFriend",re),e)),A?"home"===j?Object(u.jsx)("div",{className:"main",children:Object(u.jsx)("div",{className:"mainMessage",children:Object(u.jsx)(y,{user:a,loadData:ie,route:j,deletePost:ce,currentMessage:P,setCurrentMessage:F,pastMessages:B,setPastMessages:E,currentPublicMessage:D,setCurrentPublicMessage:J,pastPublicMessages:I,setPastPublicMessages:q,addFriend:re,conversation:$,setFilteredMessages:ne,filteredMessages:se})})}):Object(u.jsx)("div",{className:"main",children:Object(u.jsx)("div",{className:"mainMessage",children:Object(u.jsx)(M,{user:a,privateMessage:Z,setPrivateMessage:K,privateMessages:Y,setPrivateMessages:G,deletePost:ce,conversation:$,loadData:ie})})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(m,{user:a,route:j,errorMessage:v,setUser:i,setRoute:b,setErrorMessage:N,setIsSignedIn:p,onRouteChange:ae,setCurrentMessage:F,pastMessages:B,setPrivateMessages:G,setPastMessages:E,setCurrentPublicMessage:J,setPastPublicMessages:q,setConversation:_,setFilteredMessages:ne,loadData:ie})})]})},B=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,25)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),i(e),c(e)}))};c.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(k,{})}),document.getElementById("root")),B()}],[[24,1,2]]]);
//# sourceMappingURL=main.f2c674dd.chunk.js.map