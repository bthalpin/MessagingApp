(this.webpackJsonpsociallydistanced=this.webpackJsonpsociallydistanced||[]).push([[0],[,,,,function(e,t,s){},,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},,,,,,function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var n=s(2),a=s.n(n),i=s(13),c=s.n(i),r=(s(18),s(4),s(5)),o=s(1),l=s(7),u=s(3),d=(s(10),s(0)),m=function(e){var t=e.inputType,s=e.onChanges,n=e.value;return Object(d.jsxs)("div",{className:"inputBlock",children:[Object(d.jsx)("label",{className:"inputLabel",htmlFor:t,children:t}),Object(d.jsx)("input",{className:"inputField",type:"text",name:t,id:t,value:n,onChange:s})]})},j=function(e){var t=e.user,s=e.route,n=e.errorMessage,a=e.setRoute,i=e.setUser,c=e.setErrorMessage,r=e.setIsSignedIn,l=e.onRouteChange,u=e.setCurrentMessage,j=(e.pastMessages,e.setPrivateMessages),b=(e.setCurrentPublicMessage,e.setPrivatePublicMessage,e.setConversation),h=e.setPastMessages,g=e.setPastPublicMessages,A=(e.setFilteredMessages,e.filteredMessages,t.username),O=t.email,f=t.password,p=function(e){switch(e.target.id){case"Name":i((function(t){return Object(o.a)(Object(o.a)({},t),{},{username:e.target.value})}));break;case"Email":i((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value})}));break;case"Password":i((function(t){return Object(o.a)(Object(o.a)({},t),{},{password:e.target.value})}));break;default:console.log(e.target.value)}};return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("article",{className:"formWindow",children:Object(d.jsxs)("div",{className:"formcontainer",children:["Register"===s?Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"legend",children:"Register"}),Object(d.jsx)(m,{inputType:"Name",value:A,onChanges:p}),Object(d.jsx)(m,{inputType:"Email",value:O,onChanges:p}),Object(d.jsx)(m,{inputType:"Password",value:f,onChanges:p})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"legend",children:"Sign In"}),Object(d.jsx)(m,{inputType:"Email",value:O,onChanges:p}),Object(d.jsx)(m,{inputType:"Password",value:f,onChanges:p})]}),Object(d.jsx)("div",{className:"legend",children:Object(d.jsx)("button",{type:"submit",className:"button",onClick:function(){"Sign In"===s?(fetch("http://localhost:3000/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email.toUpperCase(),password:t.password})}).then((function(e){return e.json()})).then((function(e){console.log(e,"response"),e.email===t.email?(i((function(t){return Object(o.a)(Object(o.a)({},t),{},{username:e.name,friends:e.friends})})),a("home"),r(!0),u((function(t){return Object(o.a)(Object(o.a)({},t),{},{username:e.name,email:e.email})})),b({me:t.email,you:""})):(c("Invalid Login Information"),i({username:"",email:"",password:"",friends:["BRIAN@GMAIL.COM"]}))})).catch((function(e){return console.log(e)})),fetch("http://localhost:3000/friendmessageload",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,friends:t.friends})}).then((function(e){return e.json()})).then((function(e){console.log("FROM friend",e),h(e)})).catch((function(e){return console.log(e)})),fetch("http://localhost:3000/publicmessageload",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,friends:t.friends})}).then((function(e){return e.json()})).then((function(e){console.log("FROM public",e),g(e)})).catch((function(e){return console.log(e)})),fetch("http://localhost:3000/privatemessageload",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,friends:t.friends})}).then((function(e){return e.json()})).then((function(e){console.log("FROM private",e),j(e)})).catch((function(e){return console.log(e)}))):/\S+@\S+\.\S+/.test(O)&&f.length>=8?fetch("http://localhost:3000/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:t.email.toUpperCase(),password:t.password,friends:t.friends})}).then((function(e){return e.json()})).then((function(e){a("home"),r(!0),u((function(t){return Object(o.a)(Object(o.a)({},t),{},{username:e.name})})),u((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.email})})),console.log(e)})).catch((function(e){return console.log(e)})):f.length<8?c("Password must be 8 characters long"):c("Enter a valid email address")},children:"Submit"})}),Object(d.jsx)("div",{className:"legend",children:"Sign In"===s?Object(d.jsx)("p",{onClick:function(){return l("Register")},className:"loginLink",children:"Register"}):Object(d.jsx)("p",{onClick:function(){return l("Sign In")},className:"loginLink",children:"Sign In"})})]})})}),Object(d.jsx)("div",{children:n})]})},b=(s(20),s.p+"static/media/home.2ea0f12c.png"),h=(s(11),function(e){var t=e.friend,s=e.converse;e.route;return console.log(t),Object(d.jsx)("div",{className:"radioButton",children:Object(d.jsxs)("li",{children:[Object(d.jsx)("input",{type:"radio",name:"friend",id:t,onClick:function(){return s(t)}}),Object(d.jsx)("label",{htmlFor:t,children:t})]})})}),g=s.p+"static/media/friend.f4b364da.png",A=function(e){var t=e.user,s=(e.setUser,e.setPrivateMessage),a=e.route,i=e.setRoute,c=e.setConversation,r=e.addFriend,l=e.display,m=Object(n.useState)(l),j=Object(u.a)(m,2),b=j[0],A=j[1],O=function(e){f(),c((function(t){return Object(o.a)(Object(o.a)({},t),{},{you:e})})),s((function(t){return Object(o.a)(Object(o.a)({},t),{},{recipientEmail:e})})),i("mail"),console.log("add")},f=function(){A(!b)},p=t.friends;return Object(d.jsx)("div",{className:"fixed",children:b?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"",children:Object(d.jsx)("button",{className:"showFriend",onClick:f,children:Object(d.jsx)("img",{className:"friendimg",src:g,alt:"Friends",width:"35rem;"})})}),Object(d.jsxs)("div",{className:"friendList",children:[Object(d.jsx)("div",{className:"mainfriend",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"friendtitlebox",children:Object(d.jsx)("p",{className:"friendtitle",children:"home"===a?"Friends List":"Contacts"})}),Object(d.jsx)("div",{className:"scroll",children:Object(d.jsxs)("ul",{children:[console.log(p),p.map((function(e){return Object(d.jsx)(h,{converse:O,friend:e,route:a})}))]})}),Object(d.jsx)("button",{className:"addFriend",onClick:function(){return r("No Names")},children:"Add Friend"})]})}),Object(d.jsx)("button",{className:"hideFriend",onClick:f,children:"x"})]})]}):Object(d.jsx)("div",{className:"",children:Object(d.jsx)("button",{className:"showFriend",onClick:f,children:Object(d.jsx)("img",{className:"friendimg",src:g,alt:"Friends",width:"35rem;"})})})})},O=function(e){var t,s=e.onRouteChange,n=e.isSignedIn,a=e.route,i=e.user,c=e.setUser,r=e.setRoute,o=e.setPrivateMessage,l=e.setConversation,u=e.conversation,m=e.addFriend;return n?Object(d.jsxs)("div",{className:"navroot",children:["home"===a?Object(d.jsxs)("div",{className:"navLeft",children:[Object(d.jsx)("p",{className:"navhomemail",onClick:function(){return s("mail")},children:Object(d.jsx)("img",{className:"homemail",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAWgSURBVHhe7dyLalRZFARQI0Rw/v9bFRIw45XecEYnkk7u4+xTa4HYio829q6qgPYnAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIj18PT049vtMRDm4eWn22MgzOfb10AgAQDBBAAEEwAQTABAMAEAwQQABBMAEEwAQDABAMEEAAQTABBMAEAwAQDBBAAEEwAQTABAsGnfEej5+eX77SG09/j48PX2cCpTvyVYhcCXL5//+fUd0Ei93+asx79p8Z6AWxAIATrZjn/mwy9t3hTUGqCDDq0/aveuwNYAs+rS+qN2AbCxBphJt9YftQyAYg1wtY6tP2odABtrgCt0bv3RLgFQR3jlB8Ma4CxXt/6e97bbvwTcjq+e2BW2D8b2F1PJDHur19dKRbfrPwWuELgqCLa/mAqC23fBLurwrzr+uqu9V+5unwL8/sRmSMrt670/YGSpMrn6tXzUfR32n4GsAbpbtfVHhy2AkTVAJ7O2/mj6BTCyBugiofVHpyyAkTXAjDq0/qjVAhhZA8wmrfVHpy+AkTXAlbq1/qjtAhhZA1wlufVHly6AkTXAGTq3/miJBTCyBjia1v/TNAtgZA2wp1Vaf7TcAhhZA+xF6//dlAtgZA3wHiu2/mjpBTCyBriX1n+76RfAyBrgb1Zv/VHMAhhZA7xG679PqwUwsgbYJLX+KHIBjKwBtP7HtV0AI2sgS2rrj+IXwMgayKH197XEAhhZA2vS+v9lAbzCGliP1j/OcgtgZA30pvVfZwG8gTXQl9Y/x9ILYGQN9KD138YCuJM1MD+tf76YBTCyBuai9e9nAXyANTAPrX+tyAUwsgauofU/xgLYiTVwPq0/j/gFMLIGjqX192MBHMAaOI7Wn5MF8AprYB9a/xgWwMGsgY/T+vOzAN7AGriP1j+eBXAia+DttH4vFsCdrIH/p/XPZQFcxBr4k9bvywL4gPQ1oPWvYwFMIHkNaP01WAA7SVkDWn8OFsBkEtaA1l+PBXCA1daA1p+PBTCxldaA1l+bBXCwrmtA68/NAmii4xrQ+jksgBPNvga0fh8WQEMzrwGtn8kCuMgsa6Bc/Vy8fu6z1+tHAFyomvjK47tShZDXzv32CgCfAlxoe+FvX35v4wRVGo7/WgJgAhUCCUFQf06HPwcBMIlqw5VDoA7f8c9DAEymQmClIKg/j8OfjwCYULXkCiFQh+/45yQAJlYh0DEI6nk7/LkJgMlVe3YKgTp8xz8/AdBEhcDMQVDPz+H3IQAaqVadMQTq8B1/LwKgoQqBGYKgnofD70kANFVte2UI1OE7/r4EQHMVAmcGQf1+Dr8/AbCAauEzQqAO3/GvQQAspELgiCCoX9fhr0UALKbaec8QqMN3/OsRAIuqEPhIENTPd/jrEgALq9Z+TwjU4Tv+tQmAABUCbwmC+nEOP4MACFFt/rcQqMN3/DkEQJgKgTEI6tsOP48ACFQtPx6+488kAII5fAQABBMAEEwAQDABAMEEAAQTABBMAEAwAQDBBAAEEwAQTABAMAEAwQQABBMAEEwAQDABAMEEAAQTABBMAEAwAQDBBAAEEwAQTABAMAEAwQQABBMAEEwAQDABAMEEAAQTABBMAEAwAQDBBAAEEwAQTABAMAEAwQQABBMAEEwAQDABAMEEAAQTABBMAEAwAQDBBAAEEwAQTABAMAEAwQQABBMAEEwAQDABAMEEAAQTABBMAEAwAQDBBAAEEwAQ7OHlp9vjd3t+fvl+ewic5PHx4evt4bvtEgBATz4FgGACAIIJAAgmACCYAIBgAgCCCQAIJgAgmACAYAIAggkACCYAIJgAgGACAIIJAAgmACCYAIBgD09PP77dHgMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQIRPn/4FHDm9+3I50cEAAAAASUVORK5CYII=",alt:"Mail",width:"30rem"})}),Object(d.jsx)(A,{user:i,setUser:c,route:a,setRoute:r,setPrivateMessage:o,setConversation:l,addFriend:m})]}):Object(d.jsxs)("div",{className:"navLeft",children:[Object(d.jsx)("p",{className:"navhomemail",onClick:function(){return s("home")},children:Object(d.jsx)("img",{className:"homemail",src:b,alt:"Home",width:"30rem"})}),t=!u.you,Object(d.jsx)(A,{user:i,setUser:c,route:a,setRoute:r,setPrivateMessage:o,setConversation:l,addFriend:m,display:t})]}),Object(d.jsx)("div",{className:"headcontainer",children:Object(d.jsx)("h1",{className:"title",children:"home"===a?"Message Board":u.you})}),Object(d.jsx)("nav",{className:"nav",children:Object(d.jsx)("p",{onClick:function(){return s("Sign In")},className:"navElement",children:"Sign Out"})})]}):Object(d.jsx)("div",{className:"navroot",children:Object(d.jsx)("div",{className:"headcontainer",children:Object(d.jsx)("h1",{className:"title",children:"SOCIALLY DISTANCED"})})})},f=(s(12),s(21),function(e){return console.log(e),Object(d.jsx)("div",{children:Object(d.jsx)("img",{className:"picture",alt:"picture",src:e.source})})}),p=s.p+"static/media/like.1fe2cbbc.png",x=s.p+"static/media/liked.82a0b8ca.png",v=function(e){var t=e.route,s=e.text,n=e.username,a=(e.time,e.i),i=e.deletePost,c=e.deleteMail,r=e.addLike,o=e.currentUser,l=e.currentId,u=e.filteredMessages,m=e.background,j=e.publicStatus,b=(e.pastPublicMessages,e.addFriend),h=e.likes;return Object(d.jsx)("div",{className:"box",children:Object(d.jsxs)("div",{className:"smallbox",children:[Object(d.jsx)("div",{className:"messageArea "+m,children:Object(d.jsx)("div",{className:"text",children:Object(d.jsx)("div",{className:"textmessage",children:s.includes("#img#")?Object(d.jsx)(f,{source:s.substr(5,s.length-1)}):s})})}),Object(d.jsx)("div",{}),Object(d.jsxs)("div",{className:"user "+m,children:[Object(d.jsx)("p",{onClick:function(){return b(n)},children:n.toUpperCase()}),Object(d.jsx)("p",{className:"date",children:"time"})]}),Object(d.jsxs)("div",{className:"likes ",children:["home"===t?Object(d.jsx)("button",{className:"likeButton",onClick:function(){return r(a,l)},children:h&&h.includes(o)?Object(d.jsx)("img",{src:x,alt:"Unlike",width:"20rem"}):Object(d.jsx)("img",{src:p,alt:"like",width:"20rem"})}):Object(d.jsx)(d.Fragment,{}),Object(d.jsxs)("div",{className:"likedelete",children:["home"===t&&h?Object(d.jsx)("div",{className:"liketext",children:h.length>4?"".concat(h.length," Likes"):h.length>1?h.length>2?h.join(", ")+" like this post":h.join(" and ")+" like this post":h.length?h+" likes this post":""}):Object(d.jsx)(d.Fragment,{}),Object(d.jsx)("div",{className:"deleteContainer",children:"home"===t?Object(d.jsx)("div",{children:u[a].email===o?Object(d.jsx)("div",{className:"deleteBackground",children:Object(d.jsx)("button",{className:"deleteButton",id:a,onClick:function(){return i(a,j,l)},children:"x"})}):Object(d.jsx)(d.Fragment,{})}):Object(d.jsx)("div",{className:"deleteBackground",children:Object(d.jsx)("button",{className:"deleteButton",id:a,onClick:function(){return c(l)},children:"X"})})})]})]})]})})},C=function(e){var t=e.user,s=e.currentMessage,a=e.pastMessages,i=e.setPastMessages,c=e.setCurrentMessage,r=e.currentPublicMessage,m=e.pastPublicMessages,j=e.setPastPublicMessages,b=e.setCurrentPublicMessage,h=e.deletePost,g=e.route,A=e.addFriend,O=e.conversation,f=e.setFilteredMessages,p=e.filteredMessages,x=Object(n.useState)(!0),C=Object(u.a)(x,2),N=C[0],M=C[1],B=Object(n.useState)({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide",position:" middle"}),E=Object(u.a)(B,2),k=E[0],y=E[1],w="",P="";Object(n.useEffect)((function(){s.time;""!==s.message&&(fetch("http://localhost:3000/friendmessage",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:t.email.toUpperCase(),message:s.message,time:"currentTime",likes:[]})}).then((function(e){return e.json()})).then((function(e){console.log("FROM DB",e),i(e)})).catch((function(e){return console.log(e)})),c((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:""})})))}),[s.time]),Object(n.useEffect)((function(){r.time;""!==r.message&&(fetch("http://localhost:3000/publicmessage",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:t.email.toUpperCase(),message:r.message,time:"currentTime",likes:[]})}).then((function(e){return e.json()})).then((function(e){console.log("FROM DB",e),j(e)})).catch((function(e){return console.log(e)})),b((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:""})})))}),[r.time]),Object(n.useEffect)((function(){f((function(){return a.filter((function(e){return e.email===t.email||t.friends.includes(e.email)}))})),console.log(p)}),[t.friends,a]);var F=function(e){!e||""===r.message&&""===s.message||(N?b((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:"#img#"+r.message})})):c((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:"#img#"+s.message})}))),N?b((function(e){return Object(o.a)(Object(o.a)({},e),{},{time:Date().toLocaleString()})})):c((function(e){return Object(o.a)(Object(o.a)({},e),{},{time:Date().toLocaleString()})})),y({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide",position:" middle"})},S=function(e){N?b((function(t){return Object(o.a)(Object(o.a)({},t),{},{message:e.target.value})})):c((function(t){return Object(o.a)(Object(o.a)({},t),{},{message:e.target.value})}))},T=function(e,s){if(console.log("CURRENTID",s),N){var n=Object(l.a)(m);n[e].likes&&n[e].likes.includes(t.email.toUpperCase())?fetch("http://localhost:3000/dislike",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,id:s,database:"publicmessages"})}).then((function(e){return e.json()})).then((function(e){console.log("FROM DB",e),j(e)})).catch((function(e){return console.log(e)})):fetch("http://localhost:3000/likes",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,id:s,database:"publicmessages"})}).then((function(e){return e.json()})).then((function(e){console.log("FROM DB",e),j(e)})).catch((function(e){return console.log(e)}))}else if(!N){var a=Object(l.a)(p);a[e].likes&&a[e].likes.includes(t.email.toUpperCase())?fetch("http://localhost:3000/dislike",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,id:s,database:"friendmessage"})}).then((function(e){return e.json()})).then((function(e){console.log("FROM DB",e),i(e)})).catch((function(e){return console.log(e)})):fetch("http://localhost:3000/likes",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,id:s,database:"friendmessage"})}).then((function(e){return e.json()})).then((function(e){console.log("FROM DB",e),i(e)})).catch((function(e){return console.log(e)}))}},Q=function(){M(!N)},I=function(e){y(e?{picture:"",message:"textareahide",button:"textareahide",submit:"",position:" right"}:{picture:"textareahide",message:"",button:"textareahide",submit:"",position:" right"})},R=function(){y({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide",position:" middle"}),N?b((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:""})})):c((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:""})}))};return Object(d.jsx)("div",{className:"maincomment",children:N?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"inputbox",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{id:"pic",className:"textareapic public "+k.picture,cols:"40",rows:"6",onChange:S,placeholder:"Enter Picture URL",value:r.message,autoFocus:!0}),Object(d.jsx)("textarea",{id:"msg",className:"textarea public "+k.message,onChange:S,value:r.message,autoFocus:!0})]})}),Object(d.jsxs)("div",{className:"publicButton",children:[Object(d.jsx)("button",{className:"disabledButtons",children:"Public"}),Object(d.jsx)("button",{className:"publicButtons",onClick:Q,children:"Friends"})]}),Object(d.jsxs)("div",{className:"commentsection",children:[Object(d.jsxs)("div",{className:"inputbox",children:[Object(d.jsx)("label",{className:"msg "+k.submit,onClick:function(){return F(""===k.picture)},children:"Submit"}),Object(d.jsx)("label",{className:"msg "+k.submit,onClick:R,children:"Back"}),Object(d.jsx)("label",{htmlFor:"msg",className:"msg "+k.button,onClick:function(){return I(!1)},children:"Message"}),Object(d.jsx)("label",{htmlFor:"pic",className:"msg "+k.button,onClick:function(){return I(!0)},children:"Picture"})]}),Object(d.jsx)("div",{className:"bigbox",children:m.map((function(e,s){var n=m.length-1-s,a=m[n].id;return Object(d.jsx)("div",{children:Object(d.jsx)(v,{filteredMessages:m,currentUser:t.email,username:m[n].email,text:m[n].message,time:m[n].time,i:n,currentId:a,deletePost:h,route:g,addLike:T,likes:m[n].likes,publicStatus:N,addFriend:A})})}))})]})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"inputbox",children:[Object(d.jsx)("input",{id:"friendpic",className:"textareapic friend "+k.picture,onChange:S,placeholder:"Enter Picture URL",value:s.message}),Object(d.jsx)("textarea",{id:"friendmsg",className:"textarea friend "+k.message,onChange:S,value:s.message})]}),Object(d.jsxs)("div",{className:"publicButton",children:[Object(d.jsx)("button",{className:"publicButtons",onClick:Q,children:"Public"}),Object(d.jsx)("button",{className:"disabledButtons",children:"Friends"})]}),Object(d.jsxs)("div",{className:"commentsection",children:[Object(d.jsxs)("div",{className:"inputbox",children:[Object(d.jsx)("label",{htmlFor:"friendmsg",className:"msg "+k.button,onClick:function(){return I(!1)},children:"Message"}),Object(d.jsx)("label",{htmlFor:"friendpic",className:"msg "+k.button,onClick:function(){return I(!0)},children:"Picture"}),Object(d.jsx)("label",{className:"msg "+k.submit,onClick:function(){return F(""===k.picture)},children:"Submit"}),Object(d.jsx)("label",{className:"msg "+k.submit,onClick:R,children:"Back"})]}),Object(d.jsxs)("div",{className:"bigbox",children:[console.log("friend change",p,O.me),p.map((function(e,s){var n=p.length-1-s,a=p[n].id;return w=p[n].email.toUpperCase()===O.me.toUpperCase()?"sender":"recipient",P=p[n].email.toUpperCase()===O.me.toUpperCase()?"senderbackground":"",Object(d.jsx)("div",{className:w,children:Object(d.jsx)(v,{filteredMessages:p,currentUser:t.email,username:p[n].email,text:p[n].message,time:p[n].time,i:n,currentId:a,deletePost:h,route:g,addLike:T,likes:p[n].likes,publicStatus:N,addFriend:A,background:P})})}))]})]})]})})},N=(s(22),function(e){var t=e.privateMessage,s=e.setPrivateMessage,a=e.privateMessages,i=e.setPrivateMessages,c=e.user,r=(e.deletePost,e.conversation),l=Object(n.useState)({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide"}),m=Object(u.a)(l,2),j=m[0],b=m[1],h="",g="";Object(n.useEffect)((function(){""!==t.message&&fetch("http://localhost:3000/privatemessage",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c.username,senderemail:c.email,recipientemail:r.you,message:t.message,time:"currentTime"})}).then((function(e){return e.json()})).then((function(e){console.log("FROM DB",e),i(e)})).catch((function(e){return console.log(e)})),s((function(e){return Object(o.a)(Object(o.a)({},e),{},{username:"",message:"",time:""})}))}),[t.time]);var A=function(e){s((function(t){return Object(o.a)(Object(o.a)({},t),{},{message:e.target.value})}))},O=function(e){fetch("http://localhost:3000/deletemail",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,database:"privatemessage"})}).then((function(e){return e.json()})).then((function(e){console.log("FROM DB",e),i(e)})).catch((function(e){return console.log(e)}))},f=function(e){b(e?{picture:"",message:"textareahide",button:"textareahide",submit:""}:{picture:"textareahide",message:"",button:"textareahide",submit:""})};return Object(d.jsxs)("div",{className:"mailbox",children:[r.you?Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{id:"picture",className:"mailtextarea "+j.picture,cols:"40",rows:"6",onChange:A,placeholder:"Enter Picture URL",value:t.message}),Object(d.jsx)("textarea",{id:"mail",className:"mailtextarea "+j.message,cols:"40",rows:"6",onChange:A,value:t.message}),Object(d.jsx)("label",{htmlFor:"mail",className:"buttons "+j.button,onClick:function(){return f(!1)},children:"Message"}),Object(d.jsx)("label",{htmlFor:"picture",className:"buttons "+j.button,onClick:function(){return f(!0)},children:"Picture"}),Object(d.jsx)("label",{className:"buttons "+j.submit,onClick:function(){return""===j.picture&&""!==t.message&&s((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:"#img#"+t.message})})),s((function(e){return Object(o.a)(Object(o.a)({},e),{},{time:Date().toLocaleString()})})),console.log(a,"private"),void b({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide"})},children:"Submit"}),Object(d.jsx)("label",{className:"buttons "+j.submit,onClick:function(){b({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide"}),s((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:""})}))},children:"Back"})]}):Object(d.jsx)("div",{className:"nocontactContainer",children:Object(d.jsx)("div",{children:Object(d.jsx)("h1",{className:"nocontact",children:"PLEASE SELECT SOMEONE TO MESSAGE"})})}),Object(d.jsx)("div",{className:"messages",children:a.map((function(e,t){var s=a.length-1-t,n=a[s].id;if(a[s].recipientemail.toUpperCase()===r.you||a[s].senderemail.toUpperCase()===r.you)return h=a[s].senderemail.toUpperCase()===c.email.toUpperCase()?"sender":"recipient",g=a[s].senderemail.toUpperCase()===c.email.toUpperCase()?"senderbackground":"",Object(d.jsx)("div",{className:h,children:Object(d.jsx)(v,{username:a[s].senderemail,text:a[s].message,time:a[s].time,i:t,deleteMail:O,currentId:n,background:g})})}))})]})});s(23);var M=function(){var e,t=Object(n.useState)({username:"",email:"",password:"",friends:["BRIAN@GMAIL.COM"]}),s=Object(u.a)(t,2),a=s[0],i=s[1],c=Object(n.useState)("Sign In"),m=Object(u.a)(c,2),b=m[0],h=m[1],g=Object(n.useState)(!1),A=Object(u.a)(g,2),f=A[0],p=A[1],x=Object(n.useState)(""),v=Object(u.a)(x,2),M=v[0],B=v[1],E=Object(n.useState)([]),k=Object(u.a)(E,2),y=k[0],w=k[1],P=Object(n.useState)({id:"",username:"",email:"",message:"",time:"",likes:[]}),F=Object(u.a)(P,2),S=F[0],T=F[1],Q=Object(n.useState)([]),I=Object(u.a)(Q,2),R=I[0],D=I[1],U=Object(n.useState)({id:"",username:"",email:"",message:"",time:"",likes:[]}),L=Object(u.a)(U,2),J=L[0],Y=L[1],q=Object(n.useState)([]),X=Object(u.a)(q,2),G=X[0],H=X[1],V=Object(n.useState)({id:"",username:"",senderemail:"",recipientemail:"",message:"",time:""}),Z=Object(u.a)(V,2),K=Z[0],W=Z[1],z=Object(n.useState)({me:"",you:""}),$=Object(u.a)(z,2),_=$[0],ee=$[1],te=Object(n.useState)({}),se=Object(u.a)(te,2),ne=se[0],ae=se[1];Object(n.useEffect)((function(){ae((function(){return y.filter((function(e){return e.email===a.email||a.friends.includes(e.email)}))}))}),[]);var ie=function(e){"home"===e||"mail"===e?p(!0):(console.log(a),h("Sign In"),p(!1),i({username:"",email:"",password:"",friends:["BRIAN@GMAIL.COM"]}),T({id:"",username:"",email:"",message:"",time:"",likes:[]}),W({id:"",username:"",senderemail:"",recipientemail:"",message:"",time:""}),ee({me:"",you:""})),h(e)},ce=function(e,t,s){t?fetch("http://localhost:3000/deletemessage",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,database:"publicmessages"})}).then((function(e){return e.json()})).then((function(e){console.log("FROM DB",e),D(e)})).catch((function(e){return console.log(e)})):fetch("http://localhost:3000/deletemessage",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,database:"friendmessage"})}).then((function(e){return e.json()})).then((function(e){console.log("FROM DB",e),w(e)})).catch((function(e){return console.log(e)}))},re=function(e){"No Names"===e&&(e=prompt("Enter the email address of your friend ")),e&&(fetch("http://localhost:3000/friends",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.email,newFriend:e.toUpperCase()})}).then((function(e){return e.json()})).then((function(t){var s=[].concat(Object(l.a)(a.friends),[e.toUpperCase()]);i((function(e){return Object(o.a)(Object(o.a)({},e),{},{friends:s})}))})).catch((function(e){return console.log(e)})),alert("Added ".concat(e," to your friends list")))};return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(O,(e={onRouteChange:ie,isSignedIn:f,route:b,user:a,setUser:i},Object(r.a)(e,"route",b),Object(r.a)(e,"setRoute",h),Object(r.a)(e,"setPrivateMessage",W),Object(r.a)(e,"setConversation",ee),Object(r.a)(e,"conversation",_),Object(r.a)(e,"addFriend",re),e)),f?"home"===b?Object(d.jsx)("div",{className:"main",children:Object(d.jsx)("div",{className:"mainMessage",children:Object(d.jsx)(C,{user:a,route:b,deletePost:ce,currentMessage:S,setCurrentMessage:T,pastMessages:y,setPastMessages:w,currentPublicMessage:J,setCurrentPublicMessage:Y,pastPublicMessages:R,setPastPublicMessages:D,addFriend:re,conversation:_,setFilteredMessages:ae,filteredMessages:ne})})}):Object(d.jsxs)("div",{className:"main",children:[Object(d.jsx)("div",{className:"mainMessage",children:Object(d.jsx)(N,{user:a,privateMessage:K,setPrivateMessage:W,privateMessages:G,setPrivateMessages:H,deletePost:ce,conversation:_})}),console.log(G,K)]}):Object(d.jsxs)(d.Fragment,{children:[console.log(G,K),Object(d.jsx)(j,{user:a,route:b,errorMessage:M,setUser:i,setRoute:h,setErrorMessage:B,setIsSignedIn:p,onRouteChange:ie,setCurrentMessage:T,pastMessages:y,setPrivateMessages:H,setPastMessages:w,setCurrentPublicMessage:Y,setPastPublicMessages:D,setConversation:ee,setFilteredMessages:ae})]})]})},B=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,25)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),i(e),c(e)}))};c.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(M,{})}),document.getElementById("root")),B()}],[[24,1,2]]]);
//# sourceMappingURL=main.13e651eb.chunk.js.map