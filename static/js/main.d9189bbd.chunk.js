(this["webpackJsonphapin-messaging-app"]=this["webpackJsonphapin-messaging-app"]||[]).push([[0],[,,,,,function(e,t,s){},,,function(e,t,s){},,,function(e,t,s){},function(e,t,s){},,,,,,function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var n=s(2),a=s.n(n),i=s(13),c=s.n(i),r=(s(18),s(5),s(4)),o=s(1),l=s(3),u=(s(11),s(0)),d=function(e){var t=e.inputType,s=e.onChanges,n=e.value;return Object(u.jsxs)("div",{className:"inputBlock",children:[Object(u.jsx)("label",{className:"inputLabel",htmlFor:t,children:t}),Object(u.jsx)("input",{className:"inputField",type:t,name:t,id:t,value:n,onChange:s})]})},m=function(e){var t=e.user,s=e.route,n=e.errorMessage,a=e.setRoute,i=e.setUser,c=e.setErrorMessage,r=e.setIsSignedIn,l=e.onRouteChange,m=e.setCurrentMessage,j=(e.pastMessages,e.setPrivateMessages),b=(e.setCurrentPublicMessage,e.setPrivatePublicMessage,e.setConversation),h=e.setPastMessages,p=e.setPastPublicMessages,g=(e.setFilteredMessages,e.filteredMessages,e.loadData),O=t.username,f=t.email,x=t.password,v=function(e){switch(e.target.id){case"Name":i((function(t){return Object(o.a)(Object(o.a)({},t),{},{username:e.target.value})}));break;case"Email":i((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value})}));break;case"Password":i((function(t){return Object(o.a)(Object(o.a)({},t),{},{password:e.target.value})}));break;default:console.log(e.target.value)}};return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("article",{className:"formWindow",children:Object(u.jsxs)("div",{className:"formcontainer",children:["Register"===s?Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{className:"legend",children:"Register"}),Object(u.jsx)(d,{inputType:"Name",value:O,onChanges:v}),Object(u.jsx)(d,{inputType:"Email",value:f,onChanges:v}),Object(u.jsx)(d,{inputType:"Password",value:x,onChanges:v})]}):Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{className:"legend",children:"Sign In"}),Object(u.jsx)(d,{inputType:"Email",value:f,onChanges:v}),Object(u.jsx)(d,{inputType:"Password",value:x,onChanges:v})]}),Object(u.jsx)("div",{className:"legend",children:Object(u.jsx)("button",{type:"submit",className:"button",onClick:function(){var e=t.email.toUpperCase();"Sign In"===s?function(e){fetch("https://socially-distanced-server.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t.password})}).then((function(e){return e.json()})).then((function(t){t.email===e?(i((function(e){return Object(o.a)(Object(o.a)({},e),{},{username:t.name,email:t.email,friends:t.friends,requests:t.requests,pendingrequests:t.pendingrequests})})),a("home"),r(!0),c(""),m((function(e){return Object(o.a)(Object(o.a)({},e),{},{username:t.name,email:t.email})})),b({me:t.email,you:""})):(c("Invalid Login Information"),i({username:"",email:"",password:"",friends:["BRIAN@GMAIL.COM"],requests:[],pendingrequests:[]}))})).catch((function(e){return console.log(e)})),g("friendmessageload",JSON.stringify({email:e,friends:t.friends}),h),g("publicmessageload",JSON.stringify({email:e,friends:t.friends}),p),g("privatemessageload",JSON.stringify({email:e,friends:t.friends}),j)}(e):function(e){/\S+@\S+\.\S+/.test(f)&&x.length>=8?(fetch("https://socially-distanced-server.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:e,password:t.password,friends:t.friends})}).then((function(e){return e.json()})).then((function(e){a("home"),r(!0),c(""),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{username:e.name,email:e.email})}))})).catch((function(e){return console.log(e)})),g("publicmessageload",JSON.stringify({email:e,friends:t.friends}),p)):x.length<8?c("Password must be 8 characters long"):c("Enter a valid email address")}(e)},children:"Submit"})}),Object(u.jsx)("div",{className:"legend",children:"Sign In"===s?Object(u.jsx)("p",{onClick:function(){return l("Register")},className:"loginLink",children:"Register"}):Object(u.jsx)("p",{onClick:function(){return l("Sign In")},className:"loginLink",children:"Sign In"})})]})})}),Object(u.jsx)("div",{children:n})]})},j=(s(20),s.p+"static/media/hamburger.745580e9.png"),b=(s.p,s(6)),h=(s(8),function(e){var t=e.friend,s=e.converse,n=e.route,a=e.unFriend,i=e.pendOrReq;return Object(u.jsx)("div",{className:"radioButton",children:"mail"===n?Object(u.jsxs)("li",{children:[Object(u.jsx)("input",{type:"radio",name:"friend",id:t,onClick:function(){return s(t)}}),Object(u.jsx)("label",{htmlFor:t,children:t})]}):Object(u.jsxs)("li",{children:[Object(u.jsx)("input",{type:"radio",name:"friend",id:t,onClick:function(){return s(t)}}),Object(u.jsx)("label",{htmlFor:t,children:t}),Object(u.jsx)("button",{className:"friendButton",onClick:function(){return a(t,i)},children:"X"})]})})}),p=function(e){var t=e.friend,s=e.rejectFriend,n=e.acceptFriend;return Object(u.jsx)("div",{className:"radioButton",children:Object(u.jsxs)("li",{children:[Object(u.jsx)("input",{type:"radio",name:"friend",id:t}),Object(u.jsx)("label",{htmlFor:t,children:t}),Object(u.jsx)("button",{className:"friendButton",onClick:function(){return n(t)},children:"Accept"}),Object(u.jsx)("button",{className:"friendButton",onClick:function(){return s(t)},children:"X"})]})})},g=function(e){var t=e.friend,s=e.rejectFriend;return Object(u.jsx)("div",{className:"radioButton",children:Object(u.jsxs)("li",{children:[Object(u.jsx)("input",{type:"radio",name:"friend",id:t}),Object(u.jsx)("label",{htmlFor:t,children:t}),Object(u.jsx)("button",{className:"friendButton",onClick:function(){return s(t)},children:"X"})]})})},O=(s.p,function(e){var t=e.user,s=e.setUser,a=(e.setPrivateMessage,e.route,e.setRoute,e.setConversation,e.addFriend),i=(e.onRouteChange,e.converse),c=Object(n.useState)(Object(b.a)(new Set(null===t||void 0===t?void 0:t.requests))),r=Object(l.a)(c,2),o=r[0],d=r[1],m=Object(n.useState)(Object(b.a)(new Set(null===t||void 0===t?void 0:t.pendingrequests))),j=Object(l.a)(m,2),O=j[0],f=j[1];Object(n.useEffect)((function(){d(Object(b.a)(new Set(t.requests))),f(Object(b.a)(new Set(t.pendingrequests)))}),[t]);var x=function(e){fetch("https://socially-distanced-server.herokuapp.com/unfriend",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,friend:e.toUpperCase()})}).then((function(e){return e.json()})).then((function(e){e&&s(e[0])})).catch((function(e){return console.log(e)}))},v=function(e){fetch("https://socially-distanced-server.herokuapp.com/acceptfriend",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,friend:e})}).then((function(e){return e.json()})).then((function(e){s(e[0])})).catch((function(e){return console.log(e)})),alert("Added ".concat(e," to your friends list"))},N=function(e,n){"Request"===n?fetch("https://socially-distanced-server.herokuapp.com/reject",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,friend:e,option:"request"})}).then((function(e){return e.json()})).then((function(e){e&&s(e[0])})).catch((function(e){return console.log(e)})):fetch("https://socially-distanced-server.herokuapp.com/reject",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,friend:t.email,option:"pending"})}).then((function(e){return e.json()})).then((function(e){e&&s(e[0])})).catch((function(e){return console.log(e)}))},C=t.friends;return Object(u.jsx)("div",{className:"maincomment",children:Object(u.jsx)("div",{className:"commentsection",children:Object(u.jsx)("div",{className:"",children:Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("div",{className:"",children:[Object(u.jsxs)("div",{children:[C?Object(u.jsx)("div",{children:Object(u.jsx)("ul",{className:"scroll",children:C.map((function(e){return Object(u.jsx)(h,{converse:i,friend:e,unFriend:x})}))})}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("button",{className:"addFriend",onClick:function(){return a("No Names")},children:"Add Friend"})]}),o&&o[0]?Object(u.jsxs)("div",{className:"scroll",children:[Object(u.jsx)("div",{className:"friendtitlebox",children:Object(u.jsx)("p",{className:"requesttitle",children:"Request"})}),Object(u.jsx)("ul",{className:"scroll",children:o.map((function(e){return Object(u.jsx)(p,{friend:e,rejectFriend:N,pendOrReq:"Request",acceptFriend:v})}))})]}):Object(u.jsx)(u.Fragment,{}),O&&O[0]?Object(u.jsxs)("div",{className:"scroll",children:[Object(u.jsx)("div",{className:"friendtitlebox",children:Object(u.jsx)("p",{className:"pendingtitle",children:"Pending Request"})}),Object(u.jsx)("ul",{className:"scroll",children:O.map((function(e){return Object(u.jsx)(g,{friend:e,rejectFriend:N,pendOrReq:"Pending"})}))})]}):Object(u.jsx)(u.Fragment,{})]})})})})})}),f=function(e){var t,s=e.onRouteChange,a=e.isSignedIn,i=e.route,c=e.user,r=(e.setUser,e.setRoute,e.setPrivateMessage,e.setConversation,e.conversation,e.addFriend,e.publicStatus,e.setPublicStatus,e.changePublicStatus),o=(e.privateMessages,Object(n.useState)("Hidden")),d=Object(l.a)(o,2),m=d[0],b=d[1],h=function(){b("Hidden"===m?"":"Hidden")};return a?Object(u.jsxs)("div",{className:"navroot",children:[Object(u.jsx)("div",{className:"title",children:"Halpin Messaging App"}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"hideButton",onClick:h,children:Object(u.jsx)("img",{src:j,alt:"=",width:"15rem"})})}),Object(u.jsxs)("div",{className:"mainNav"+m,children:[Object(u.jsx)("button",{className:"wideButton",onClick:h,children:"Close"}),Object(u.jsxs)("div",{className:"groupContainer",children:[Object(u.jsx)("p",{className:"groupChat",children:"Group Chats"}),Object(u.jsxs)("div",{className:"navButtonContainer ",children:[Object(u.jsx)("p",{onClick:function(){return r("home",!0)},className:"navButtons home"+i,children:"Public"}),Object(u.jsx)("p",{className:"navButtons friend"+i,onClick:function(){return r("friend",!1)},children:"Friends"})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)("p",{className:"navButtons mail"+i,onClick:function(){return s("mail")},children:"Private Message"})}),Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("p",{className:"navButtons friends"+i,onClick:function(){return s("friends")},children:["Contacts",(null===c||void 0===c||null===(t=c.requests)||void 0===t?void 0:t.length)?Object(u.jsx)("span",{className:"requests",children:c.requests.length}):Object(u.jsx)(u.Fragment,{})]})}),Object(u.jsx)("nav",{className:"",children:Object(u.jsx)("p",{onClick:function(){return s("Sign In")},className:"navButtons ",children:"Sign Out"})})]})]}):Object(u.jsx)("div",{})},x=(s(12),s(21),function(e){return Object(u.jsx)("div",{children:Object(u.jsx)("img",{className:"picture",alt:"picture",src:e.source})})}),v=s.p+"static/media/like.1fe2cbbc.png",N=s.p+"static/media/liked.82a0b8ca.png",C=function(e){var t=e.route,s=e.text,n=e.username,a=e.time,i=e.i,c=e.deletePost,r=e.deleteMail,o=e.addLike,l=e.currentUser,d=e.currentId,m=e.filteredMessages,j=e.background,b=e.publicStatus,h=(e.pastPublicMessages,e.addFriend),p=e.likes;return Object(u.jsx)("div",{className:"box",children:Object(u.jsxs)("div",{className:"smallbox",children:[Object(u.jsx)("div",{className:"messageArea "+j,children:Object(u.jsx)("div",{className:"text",children:Object(u.jsx)("div",{className:"textmessage",children:s.includes("#img#")?Object(u.jsx)(x,{source:s.substr(5,s.length-1)}):s})})}),Object(u.jsxs)("div",{className:"user "+j,children:[Object(u.jsx)("p",{onClick:function(){return h(n)},children:n.toUpperCase().substr(0,n.indexOf("@"))}),Object(u.jsx)("p",{className:"date",children:a.substr(0,16)})]}),Object(u.jsxs)("div",{className:"likes ",children:["home"===t?Object(u.jsx)("button",{className:"likeButton",onClick:function(){return o(i,d)},children:p&&JSON.stringify(p).includes(l)?Object(u.jsx)("img",{src:N,alt:"Unlike",width:"20rem"}):Object(u.jsx)("img",{src:v,alt:"like",width:"20rem"})}):Object(u.jsx)(u.Fragment,{}),Object(u.jsxs)("div",{className:"likedelete",children:["home"===t&&p?Object(u.jsx)("div",{className:"liketext",children:p.length>=4?"".concat(p.length," Likes"):p.length>1?p.length>2?JSON.parse(p[0]).name+", "+JSON.parse(p[1]).name+", and "+JSON.parse(p[2]).name+" like this post":JSON.parse(p[0]).name+" and "+JSON.parse(p[1]).name+" like this post":p.length?JSON.parse(p).name+" likes this post":""}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("div",{className:"deleteContainer",children:"home"===t?Object(u.jsx)("div",{children:m[i].email===l?Object(u.jsx)("div",{className:"deleteBackground",children:Object(u.jsx)("button",{className:"deleteButton",id:i,onClick:function(){return c(i,b,d)},children:"x"})}):Object(u.jsx)(u.Fragment,{})}):Object(u.jsx)("div",{className:"deleteBackground",children:Object(u.jsx)("button",{className:"deleteButton",id:i,onClick:function(){return r(d)},children:"X"})})})]})]})]})})},k=function(e){var t=e.user,s=e.currentMessage,a=e.pastMessages,i=e.setPastMessages,c=e.setCurrentMessage,r=e.currentPublicMessage,d=e.pastPublicMessages,m=e.setPastPublicMessages,j=e.setCurrentPublicMessage,h=e.deletePost,p=e.route,g=e.addFriend,O=(e.conversation,e.setFilteredMessages),f=e.filteredMessages,x=e.publicStatus,v=(e.setPublicStatus,Object(n.useState)({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide",position:" middle"})),N=Object(l.a)(v,2),k=N[0],y=N[1],S="",M="";Object(n.useEffect)((function(){s.time;""!==s.message&&(fetch("https://socially-distanced-server.herokuapp.com/friendmessage",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:t.email.toUpperCase(),message:s.message,time:"currentTime",likes:[]})}).then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return console.log(e)})),c((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:""})})))}),[s.time]),Object(n.useEffect)((function(){var e=r.time;""!==r.message&&(fetch("https://socially-distanced-server.herokuapp.com/publicmessage",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:t.email.toUpperCase(),message:r.message,time:e,likes:[]})}).then((function(e){return e.json()})).then((function(e){m(e)})).catch((function(e){return console.log(e)})),j((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:""})})))}),[r.time]),Object(n.useEffect)((function(){t.friends&&O((function(){return a.filter((function(e){return e.email===t.email||t.friends.includes(e.email)}))}))}),[t.friends,a]);var P=function(e){!e||""===r.message&&""===s.message||(x?j((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:"#img#"+r.message})})):c((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:"#img#"+s.message})}))),x?j((function(e){return Object(o.a)(Object(o.a)({},e),{},{time:Date().toLocaleString()})})):c((function(e){return Object(o.a)(Object(o.a)({},e),{},{time:Date().toLocaleString()})})),y({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide",position:" middle"})},F=function(e){x?j((function(t){return Object(o.a)(Object(o.a)({},t),{},{message:e.target.value})})):c((function(t){return Object(o.a)(Object(o.a)({},t),{},{message:e.target.value})}))},B=function(e){return JSON.parse(e).email!==t.email},J=function(e,s){var n=!0;if(x){var a=Object(b.a)(d);a[e].likes&&(n=a[e].likes.every(B)),a[e].likes,n?fetch("https://socially-distanced-server.herokuapp.com/likes",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:t.email,id:s,database:"publicmessages"})}).then((function(e){return e.json()})).then((function(e){m(e)})).catch((function(e){return console.log(e)})):fetch("https://socially-distanced-server.herokuapp.com/dislike",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:t.email,id:s,database:"publicmessages"})}).then((function(e){return e.json()})).then((function(e){m(e)})).catch((function(e){return console.log(e)}))}else if(!x){var c=Object(b.a)(f);c[e].likes&&(n=c[e].likes.every(B)),!c[e].likes||n?fetch("https://socially-distanced-server.herokuapp.com/likes",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:t.email,id:s,database:"friendmessage"})}).then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return console.log(e)})):fetch("https://socially-distanced-server.herokuapp.com/dislike",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.username,email:t.email,id:s,database:"friendmessage"})}).then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return console.log(e)}))}},U=function(e){y(e?{picture:"",message:"textareahide",button:"textareahide",submit:"",position:" right"}:{picture:"textareahide",message:"",button:"textareahide",submit:"",position:" right"})},R=function(){y({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide",position:" middle"}),x?j((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:""})})):c((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:""})}))};return Object(u.jsx)("div",{className:"maincomment",children:x?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"inputbox",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{id:"pic",className:"textareapic public "+k.picture,cols:"40",rows:"6",onChange:F,placeholder:"Enter Picture URL",value:r.message,autoFocus:!0}),Object(u.jsx)("textarea",{id:"msg",className:"textarea public "+k.message,onChange:F,value:r.message,autoFocus:!0})]})}),Object(u.jsxs)("div",{className:"commentsection",children:[Object(u.jsxs)("div",{className:"inputbox",children:[Object(u.jsx)("label",{className:"msg "+k.submit,onClick:function(){return P(""===k.picture)},children:"Submit"}),Object(u.jsx)("label",{className:"msg "+k.submit,onClick:R,children:"Back"}),Object(u.jsx)("label",{htmlFor:"msg",className:"msg "+k.button,onClick:function(){return U(!1)},children:"Message"}),Object(u.jsx)("label",{htmlFor:"pic",className:"msg "+k.button,onClick:function(){return U(!0)},children:"Picture"})]}),Object(u.jsx)("div",{className:"bigbox",children:d.map((function(e,s){var n=d.length-1-s,a=d[n].id;return Object(u.jsx)("div",{children:Object(u.jsx)(C,{filteredMessages:d,currentUser:t.email,username:d[n].email,text:d[n].message,time:d[n].time,i:n,currentId:a,deletePost:h,route:p,addLike:J,likes:d[n].likes,publicStatus:x,addFriend:g})},s)}))})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"inputbox",children:[Object(u.jsx)("input",{id:"friendpic",className:"textareapic friend "+k.picture,onChange:F,placeholder:"Enter Picture URL",value:s.message}),Object(u.jsx)("textarea",{id:"friendmsg",className:"textarea friend "+k.message,onChange:F,value:s.message})]}),Object(u.jsxs)("div",{className:"commentsection",children:[Object(u.jsxs)("div",{className:"inputbox",children:[Object(u.jsx)("label",{htmlFor:"friendmsg",className:"msg "+k.button,onClick:function(){return U(!1)},children:"Message"}),Object(u.jsx)("label",{htmlFor:"friendpic",className:"msg "+k.button,onClick:function(){return U(!0)},children:"Picture"}),Object(u.jsx)("label",{className:"msg "+k.submit,onClick:function(){return P(""===k.picture)},children:"Submit"}),Object(u.jsx)("label",{className:"msg "+k.submit,onClick:R,children:"Back"})]}),Object(u.jsx)("div",{className:"bigbox",children:f.map((function(e,s){var n=f.length-1-s,a=f[n].id;return S=f[n].email.toUpperCase()===t.email.toUpperCase()?"sender":"recipient",M=f[n].email.toUpperCase()===t.email.toUpperCase()?"senderbackground":"",Object(u.jsx)("div",{className:S,children:Object(u.jsx)(C,{filteredMessages:f,currentUser:t.email,username:f[n].email,text:f[n].message,time:f[n].time,i:n,currentId:a,deletePost:h,route:p,addLike:J,likes:f[n].likes,publicStatus:x,addFriend:g,background:M})},s)}))})]})]})})},y=(s(22),function(e){var t=e.privateMessage,s=e.setPrivateMessage,a=e.privateMessages,i=e.setPrivateMessages,c=e.user,r=(e.deletePost,e.conversation),d=e.setConversation,m=e.converse,j=e.route,b=Object(n.useState)({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide"}),p=Object(l.a)(b,2),g=p[0],O=p[1],f="",x="";Object(n.useEffect)((function(){""!==t.message&&fetch("https://socially-distanced-server.herokuapp.com/privatemessage",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c.username,senderemail:c.email,recipientemail:r.you,message:t.message,time:"currentTime"})}).then((function(e){return e.json()})).then((function(e){console.log("FROM DB",e),i(e)})).catch((function(e){return console.log(e)})),s((function(e){return Object(o.a)(Object(o.a)({},e),{},{username:"",message:"",time:""})}))}),[t.time]);var v=function(e){s((function(t){return Object(o.a)(Object(o.a)({},t),{},{message:e.target.value})}))},N=function(e){fetch("https://socially-distanced-server.herokuapp.com/deletemail",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,database:"privatemessage"})}).then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return console.log(e)}))},k=function(e){O(e?{picture:"",message:"textareahide",button:"textareahide",submit:""}:{picture:"textareahide",message:"",button:"textareahide",submit:""})};return Object(u.jsx)("div",{className:"mailbox",children:r.you?Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{id:"picture",className:"mailtextarea "+g.picture,cols:"40",rows:"6",onChange:v,placeholder:"Enter Picture URL",value:t.message}),Object(u.jsx)("textarea",{id:"mail",className:"mailtextarea "+g.message,cols:"40",rows:"6",onChange:v,value:t.message}),Object(u.jsxs)("div",{className:"mailButtons",children:[Object(u.jsx)("label",{htmlFor:"mail",className:"buttons "+g.button,onClick:function(){return k(!1)},children:"Message"}),Object(u.jsx)("label",{htmlFor:"picture",className:"buttons "+g.button,onClick:function(){return k(!0)},children:"Picture"}),Object(u.jsx)("label",{className:"buttons "+g.submit,onClick:function(){return""===g.picture&&""!==t.message&&s((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:"#img#"+t.message})})),s((function(e){return Object(o.a)(Object(o.a)({},e),{},{time:Date().toLocaleString()})})),void O({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide"})},children:"Submit"}),Object(u.jsx)("label",{className:"buttons "+g.submit,onClick:function(){O({picture:"textareahide",message:"textareahide",button:"",submit:"textareahide"}),s((function(e){return Object(o.a)(Object(o.a)({},e),{},{message:""})}))},children:"Back"})]}),Object(u.jsxs)("div",{className:"privateMessage",children:[Object(u.jsx)("button",{className:"backButton",onClick:function(){d((function(e){return Object(o.a)(Object(o.a)({},e),{},{you:""})}))},children:"<"}),Object(u.jsx)("p",{className:"contactName",children:r.you})]})]}),Object(u.jsx)("div",{className:"messages",children:a.map((function(e,s){var n=a.length-1-s,i=a[n].id;if(a[n].recipientemail.toUpperCase()===r.you&&a[n].senderemail.toUpperCase()===c.email||a[n].senderemail.toUpperCase()===r.you&&a[n].recipientemail.toUpperCase()===c.email)return f=a[n].senderemail.toUpperCase()===c.email.toUpperCase()?"sender":"recipient",x=a[n].senderemail.toUpperCase()===c.email.toUpperCase()?"senderbackground":"",Object(u.jsxs)("div",{className:f,children:[console.log(t),Object(u.jsx)(C,{username:a[n].senderemail,text:a[n].message,time:a[n].time,i:s,deleteMail:N,currentId:i,background:x})]})}))})]}):Object(u.jsxs)("div",{className:"nocontactContainer",children:[Object(u.jsx)("p",{className:"contactName",children:"Select a contact to message"}),Object(u.jsx)("ul",{className:"contactScroll",children:c.friends.map((function(e){return Object(u.jsx)("div",{children:Object(u.jsx)(h,{converse:m,friend:e,route:j})})}))})]})})});s(23);var S=function(){var e,t=Object(n.useState)({username:"",email:"",password:"",friends:["BRIAN@GMAIL.COM"],request:[],pendingrequests:[]}),s=Object(l.a)(t,2),a=s[0],i=s[1],c=Object(n.useState)("Sign In"),d=Object(l.a)(c,2),j=d[0],b=d[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),g=p[0],x=p[1],v=Object(n.useState)(""),N=Object(l.a)(v,2),C=N[0],S=N[1],M=Object(n.useState)([]),P=Object(l.a)(M,2),F=P[0],B=P[1],J=Object(n.useState)({id:"",username:"",email:"",message:"",time:"",likes:[]}),U=Object(l.a)(J,2),R=U[0],q=U[1],w=Object(n.useState)([]),I=Object(l.a)(w,2),T=I[0],L=I[1],E=Object(n.useState)({id:"",username:"",email:"",message:"",time:"",likes:[]}),A=Object(l.a)(E,2),D=A[0],G=A[1],H=Object(n.useState)([]),X=Object(l.a)(H,2),W=X[0],z=X[1],K=Object(n.useState)({id:"",username:"",senderemail:"",recipientemail:"",message:"",time:""}),Q=Object(l.a)(K,2),V=Q[0],Y=Q[1],Z=Object(n.useState)({me:"",you:""}),$=Object(l.a)(Z,2),_=$[0],ee=$[1],te=Object(n.useState)({}),se=Object(l.a)(te,2),ne=se[0],ae=se[1],ie=Object(n.useState)(!0),ce=Object(l.a)(ie,2),re=ce[0],oe=ce[1];Object(n.useEffect)((function(){a.friends&&ae((function(){return F.filter((function(e){return e.email===a.email||a.friends.includes(e.email)}))}))}),[]);var le=function(e){"home"===e||"mail"===e||"friends"===e||"friend"===e?x(!0):(b("Sign In"),x(!1),i({username:"",email:"",password:"",friends:["BRIAN@GMAIL.COM"],requests:[],pendingrequests:[]}),q({id:"",username:"",email:"",message:"",time:"",likes:[]}),Y({id:"",username:"",senderemail:"",recipientemail:"",message:"",time:""}),ee({me:"",you:""})),b(e)},ue=function(e,t,s){fetch("https://socially-distanced-server.herokuapp.com/".concat(e),{method:"post",headers:{"Content-Type":"application/json"},body:t}).then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(e){return console.log(e)}))},de=function(e,t,s){t?fetch("https://socially-distanced-server.herokuapp.com/deletemessage",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,database:"publicmessages"})}).then((function(e){return e.json()})).then((function(e){L(e)})).catch((function(e){return console.log(e)})):fetch("https://socially-distanced-server.herokuapp.com/deletemessage",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,database:"friendmessage"})}).then((function(e){return e.json()})).then((function(e){B(e)})).catch((function(e){return console.log(e)}))},me=function(e){"No Names"===e&&(e=prompt("Enter the email address of your friend ")),e&&(a.friends&&a.friends.includes(e)||fetch("https://socially-distanced-server.herokuapp.com/friendrequest",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.email,newFriend:e.toUpperCase()})}).then((function(e){return e.json()})).then((function(e){e&&i((function(t){return Object(o.a)(Object(o.a)({},t),{},{pendingrequests:e.pendingrequests})}))})).catch((function(e){return console.log(e)})))},je=function(e){ee((function(t){return Object(o.a)(Object(o.a)({},t),{},{you:e})})),Y((function(t){return Object(o.a)(Object(o.a)({},t),{},{recipientEmail:e})})),b("mail")};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(f,(e={onRouteChange:le,isSignedIn:g,route:j,user:a,setUser:i},Object(r.a)(e,"route",j),Object(r.a)(e,"setRoute",b),Object(r.a)(e,"setPrivateMessage",Y),Object(r.a)(e,"setConversation",ee),Object(r.a)(e,"conversation",_),Object(r.a)(e,"addFriend",me),Object(r.a)(e,"publicStatus",re),Object(r.a)(e,"setPublicStatus",oe),Object(r.a)(e,"changePublicStatus",(function(e,t){console.log(e,t),oe(t),le(e)})),Object(r.a)(e,"privateMessages",W),e)),g?"home"===j||"friend"===j?Object(u.jsx)("div",{className:"main",children:Object(u.jsx)("div",{className:"mainMessage",children:Object(u.jsx)(k,{user:a,loadData:ue,route:j,deletePost:de,currentMessage:R,setCurrentMessage:q,pastMessages:F,setPastMessages:B,currentPublicMessage:D,setCurrentPublicMessage:G,pastPublicMessages:T,setPastPublicMessages:L,addFriend:me,conversation:_,setFilteredMessages:ae,filteredMessages:ne,publicStatus:re,setPublicStatus:oe})})}):"mail"===j?Object(u.jsx)("div",{className:"main",children:Object(u.jsx)("div",{className:"mainMessage",children:Object(u.jsx)(y,{user:a,privateMessage:V,setPrivateMessage:Y,privateMessages:W,setPrivateMessages:z,deletePost:de,conversation:_,loadData:ue,setConversation:ee,converse:je,route:j})})}):Object(u.jsx)(O,{user:a,setUser:i,route:j,setRoute:b,setPrivateMessage:Y,setConversation:ee,addFriend:me,onRouteChange:le,converse:je}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(m,{user:a,route:j,errorMessage:C,setUser:i,setRoute:b,setErrorMessage:S,setIsSignedIn:x,onRouteChange:le,setCurrentMessage:q,pastMessages:F,setPrivateMessages:z,setPastMessages:B,setCurrentPublicMessage:G,setPastPublicMessages:L,setConversation:ee,setFilteredMessages:ae,loadData:ue})})]})},M=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,25)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),i(e),c(e)}))};c.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(S,{})}),document.getElementById("root")),M()}],[[24,1,2]]]);
//# sourceMappingURL=main.d9189bbd.chunk.js.map